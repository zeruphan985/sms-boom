<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minhazur Server</title>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        body { margin: 0; padding: 0; background: black; color: #0f0; font-family: 'Share Tech Mono', monospace; overflow: hidden; }
        canvas { display: block; position: fixed; top: 0; left: 0; z-index: -1; opacity: 0.2; }
        .container { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 90%; max-width: 450px; background: rgba(0, 20, 0, 0.9); border: 1px solid #0f0; padding: 25px; border-radius: 10px; box-shadow: 0 0 25px #0f0; text-align: center; }
        h1 { margin: 0; font-size: 30px; text-shadow: 0 0 10px #0f0; animation: glitch 1s infinite; }
        .input-group { margin: 20px 0; text-align: left; }
        label { font-size: 14px; color: #0f0; }
        input { width: 100%; background: #000; border: 1px solid #0f0; color: #0f0; padding: 12px; font-family: inherit; font-size: 18px; outline: none; box-sizing: border-box; margin-top: 5px; }
        input:focus { box-shadow: 0 0 15px #0f0; }
        .btn-group { display: flex; gap: 10px; margin-top: 20px; }
        button { flex: 1; padding: 15px; border: 1px solid #0f0; background: #000; color: #0f0; font-family: inherit; font-weight: bold; font-size: 16px; cursor: pointer; transition: 0.3s; }
        button:hover { background: #0f0; color: #000; }
        .btn-stop { border-color: red; color: red; }
        .btn-stop:hover { background: red; color: white; }
        .terminal { height: 200px; background: #000; border: 1px solid #333; margin-top: 25px; padding: 10px; text-align: left; font-size: 12px; overflow-y: auto; color: #0f0; }
        .log-line { border-bottom: 1px solid #111; padding: 3px 0; }
        .footer { margin-top: 25px; font-size: 12px; color: #0f0; opacity: 0.7; border-top: 1px solid #0f0; padding-top: 10px; }
        @keyframes glitch { 0% { text-shadow: 2px 0 red, -2px 0 blue; } 50% { text-shadow: -2px 0 red, 2px 0 blue; } 100% { text-shadow: 2px 0 red, -2px 0 blue; } }
    </style>
</head>
<body>
    <canvas id="matrix"></canvas>
    <div class="container">
        <h1>SYSTEM OVERLOAD</h1>
        <p style="font-size:12px;">CLOUD SERVER EDITION v9.0</p>
        
        <div class="input-group">
            <label>> TARGET NUMBER:</label>
            <input type="number" id="number" placeholder="017xxxxxxxx">
        </div>
        
        <div class="input-group">
            <label>> THREAD COUNT:</label>
            <input type="number" id="amount" value="200">
        </div>

        <div class="btn-group">
            <button onclick="startAttack()" id="startBtn">INITIATE ATTACK</button>
            <button onclick="stopAttack()" id="stopBtn" class="btn-stop" disabled>ABORT</button>
        </div>

        <div class="terminal" id="console"><div>root@server:~# System Ready...</div></div>

        <div class="footer">DEVELOPED BY: <b style="font-size:14px;">MINHAZUR RAHMAN</b></div>
    </div>
    <script>
        const canvas = document.getElementById('matrix'); const ctx = canvas.getContext('2d'); canvas.width = window.innerWidth; canvas.height = window.innerHeight; const chars = '01MINHAZUR10'; const fontSize = 14; const columns = canvas.width / fontSize; const drops = Array(Math.floor(columns)).fill(1);
        function drawMatrix() { ctx.fillStyle = 'rgba(0, 0, 0, 0.05)'; ctx.fillRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = '#0f0'; ctx.font = fontSize + 'px monospace'; for (let i = 0; i < drops.length; i++) { const text = chars.charAt(Math.floor(Math.random() * chars.length)); ctx.fillText(text, i * fontSize, drops[i] * fontSize); if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0; drops[i]++; } } setInterval(drawMatrix, 50);

        let interval;
        async function startAttack() {
            let num = document.getElementById('number').value;
            let amt = document.getElementById('amount').value;
            if(num.length < 11) return alert("Invalid Target!");
            document.getElementById('startBtn').disabled = true;
            document.getElementById('stopBtn').disabled = false;
            await fetch('/start', { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({number: num, amount: amt}) });
            interval = setInterval(updateLogs, 800);
        }
        async function stopAttack() { await fetch('/stop', { method: 'POST' }); }
        async function updateLogs() {
            let res = await fetch('/status'); let data = await res.json();
            let con = document.getElementById('console'); con.innerHTML = "";
            data.logs.forEach(log => { con.innerHTML += `<div class="log-line">> ${log}</div>`; });
            con.scrollTop = con.scrollHeight;
            if(!data.running && data.total_sent > 0) { clearInterval(interval); document.getElementById('startBtn').disabled = false; document.getElementById('stopBtn').disabled = true; alert("Mission Completed!"); }
        }
    </script>
</body>
</html>